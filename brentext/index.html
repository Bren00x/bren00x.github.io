<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>BrenText V.0.1</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <div class="na-title">BrenText V.0.1</div>
  <div class="doc-title"><input id="docTitle" type=text placeholder="Untitled Document"></div>
  <textarea id="text"></textarea>
  <div class="doc-nav"> | <a href="#" id="save">Save</a> | <a href="#" onclick='doDL(document.getElementById("text").value)'>Download</a>
    | <a href="javascript:clear()" onclick="clear();">Clear</a>
    | <a href="javascript:clearsave()">Clear/Unsave</a>
    <br><a>Controls:</a>
    <a>cmd/ctrl + z: undo</a> | 
    <a>cmd/ctrl + shift + z: redo</a> | 
    <a>cmd/ctrl + c: copy</a> | 
    <a>cmd/ctrl + x: cut</a> | 
    <a>cmd/ctrl + v: past</a>
  </div>
  <script>
    document.getElementById('save').onclick = function() {
      localStorage['docTitle'] = document.getElementById('docTitle').value;
      localStorage['text'] = document.getElementById('text').value;
    };

    document.getElementById('docTitle').value = localStorage['docTitle'] || "";
    document.getElementById('text').value = localStorage['text'] || "";
  </script>
  <script type='text/javascript'>
    function doDL(s){
      function dataUrl(data) {return "data:x-application/text," + escape(data);}
      window.open(dataUrl(s));
    }
  </script>
  <script>
    function clearsave()  {
      clear();
      localStorage['docTitle'] = document.getElementById('docTitle').value;
      localStorage['text'] = document.getElementById('text').value;
    };
    
    function clear()  
    {
      document.getElementById('docTitle').value = "";
      document.getElementById('text').value = "";
    }  
  </script>
</body>
</html>